<div class="cart-page">
    <h1>Carrito de Compras</h1>
    <p class="cart-id">ID del Carrito: {{cartId}}</p>
    
    {{#if products.length}}
        <div class="cart-products">
            {{#each products}}
                {{#if this.product}}
                    <div class="product-card">
                        <div class="product-image">
                            <img src="/img/{{this.product.thumbnails}}" alt="{{this.product.title}}" onerror="this.src='/img/product.jpg'">
                        </div>
                        <div class="product-info">
                            <h3>{{this.product.title}}</h3>
                            <p class="product-description">{{this.product.description}}</p>
                            <p class="product-code">Código: {{this.product.code}}</p>
                            <p class="product-category">Categoría: {{this.product.category}}</p>
                        </div>
                        <div class="product-pricing">
                            <p>Precio unitario: <strong>${{this.product.price}}</strong></p>
                            <p>Cantidad: <strong>{{this.quantity}}</strong></p>
                            <p class="subtotal">Subtotal: <strong>${{this.subtotal}}</strong></p>
                        </div>
                    </div>
                {{else}}
                    <div class="product-card error">
                        <p>Producto no disponible</p>
                    </div>
                {{/if}}
            {{/each}}
        </div>
        
        <div class="cart-total">
            <h2>Total: ${{total}}</h2>
        </div>
        
        <div class="cart-actions">
            <a href="/" class="btn-continue">Continuar comprando</a>
            <button class="btn-checkout">Finalizar compra</button>
        </div>
    {{else}}
        <div class="empty-cart">
            <p>El carrito está vacío</p>
            <a href="/" class="btn-continue">Ir a comprar</a>
        </div>
    {{/if}}
</div>
